---
title: "Get started"
author: "Daniel Vaulot"
output: rmarkdown::html_document
vignette: >
  %\VignetteIndexEntry{get started}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  cache = FALSE,
  warning = FALSE,
  message = FALSE,
  comment = "#>" 
  # fig.path = "img/"   # Directories where image are saved
)
```


The metaPR2 shiny application allowing access to the metaPR2 database is provided as a R package called **metaPR2**.  This page provides instruction to install and use the package.  

YOu can also:

* Use a [web interface](https://metapr2-dcx2qwgoua-as.a.run.app/).

* Download and run a Docker container 

# Installation

Install from the GitHub web site using the devtools package

```{r, eval=FALSE, echo=TRUE}
install.packages(devtools)
devtools::install_github("pr2database/metapr2-shiny")
```

# Run the Shiny application

```{r eval=FALSE }
metapr2::metapr2App()
```


#### Stop the Shiny application

* Close the browser window

OR

* Hit the stop button at the top right of the bottom left window


#### In case Shiny application crashes

* Hit the stop button at the top right of the bottom left window
* Relaunch `metapr2App()`

# Structure of the application

panel | subpanel | content 
--- | ---  | ---
**About** | | Basic information on the metapr2 database.
**Datasets** | | Select and list datasets used. You can select also groups of datasets (e.g. arctic)
**Treemap** | | Create treemaps (square pie-chart) provinding the proportion of each taxon for the samples and datasets selected
**Map** | | Maps of read abundance. For a given taxonomic level you can visualize the proportions of the taxonomic levels below (e.g. species if you are at the genus level) or alternatively the main taxon at each station (e.g. the mainn species if you are the genus level). Size of circle is proportional to contribution of taxon to total eukaryotes.
**Barplot** | | Composition for specific variables (e.g. depth_level).
**Diversity** | | Diversity analysis using the R phyloseq package
-  | **Alpha diversity** | Alpha diversity indices (e.g. Shannon, Simpson).
-  | **Beta diversity** | Mutivariate analyses (e.g. NMDS).
**Query** | | Enter a sequence and search for metabarcode that are similar to your sequence using a BLAST like search. You can plot the ASVs matching your query.
**Download** | | Download data for selected samples/taxa as well as the whole dataset as a phyloseq file.