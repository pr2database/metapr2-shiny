[{"path":"/articles/metapr2.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"Get started","text":"Install GitHub web site using devtools package","code":"install.packages(devtools) devtools::install_github(\"pr2database/metapr2-shiny\")"},{"path":"/articles/metapr2.html","id":"run-the-shiny-application","dir":"Articles","previous_headings":"","what":"Run the Shiny application","title":"Get started","text":"","code":"metapr2::metapr2App()"},{"path":"/articles/metapr2.html","id":"stop-the-shiny-application","dir":"Articles","previous_headings":"","what":"Stop the Shiny application","title":"Get started","text":"Close browser window Hit stop button top right bottom left window","code":""},{"path":"/articles/metapr2.html","id":"in-case-shiny-application-crashes","dir":"Articles","previous_headings":"","what":"In case Shiny application crashes","title":"Get started","text":"Hit stop button top right bottom left window Relaunch metapr2App()","code":""},{"path":[]},{"path":"/articles/vignette-barplots.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Barplots","text":"barplot panel allow produce barplots using variety metadata (Fig. 1). panels apply datasets, samples, ASV taxa selected. Two major settings can used: Color according taxonomy according ecological function (Fig. 1). Ecological function according list Sommeria-Klein et al. (2021) appears Supplementary material. Variable use fraction name ecosystem substrate depth (m) depth_level DNA_RNA latitude temperature salinity date (see ) Fig. 1: Barplot taxonomy. 1: Color accoding taxonomy ecological function. 2: Variable use. 3: Barplot. Left: Using taxonomy Right: using ecological function","code":""},{"path":"/articles/vignette-barplots.html","id":"interactive-plots","dir":"Articles","previous_headings":"","what":"Interactive plots","title":"Barplots","text":"Fig. 2: Barplot interactive. Right: isolating specific group.","code":""},{"path":"/articles/vignette-barplots.html","id":"time-series","dir":"Articles","previous_headings":"","what":"Time series","title":"Barplots","text":"Time series can also plotted data aggregated : year (Fig. 3) month (Fig. 4) day test feature best use single dataset (e.g. Spanish Blanes Giner et al. 2019) use single size fraction. Using zoom function plotly, one can easily display monthly daily data (Fig. 4). Fig. 3: Barplot time series year aggregation Fig. 4: Barplot time series month aggregation. Right: zooming","code":""},{"path":"/articles/vignette-barplots.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Barplots","text":"Sommeria-Klein, G., Watteaux, R., Ibarbalz, F.M., Pierella Karlusich, J.J., Iudicone, D., Bowler, C., Morlon, H., 2021. Global drivers eukaryotic plankton biogeography sunlit ocean. Science 374, 594–599. https://doi.org/10.1126/science.abb3717 Giner, C.R., Balagué, V., Krabberød, .K., Ferrera, ., Reñé, ., Garcés, E., Gasol, J.M., Logares, R., Massana, R., 2019. Quantifying long-term recurrence planktonic microbial eukaryotes. Molecular Ecology 28, 923–935. https://doi.org/10.1111/mec.14929","code":""},{"path":"/articles/vignette-data-processing.html","id":"pipeline","dir":"Articles","previous_headings":"","what":"Pipeline","title":"Data processing","text":"Raw fastq files downloaded NCBI author web site deposited NCBI datasets processed cutapdapt (Martin et al. 2011) remove primers dada2 R package (Callahan et al. 2016) compute ASVs. Assignment done dada2 assignTaxa using 18S PR2 4.14.0 reference ASVs less 100 reads total bootstrap value supergroup level < 75 considered. Total read number per sample normalized 100 3 decimals value displayed different panels correspond % total eukaryotic reads.","code":""},{"path":"/articles/vignette-data-processing.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Data processing","text":"Callahan, B.J., McMurdie, P.J., Rosen, M.J., Han, .W., Johnson, .J.., Holmes, S.P., 2016. DADA2: High-resolution sample inference Illumina amplicon data. Nature Methods 13, 581–583. https://doi.org/10.1038/nmeth.3869 Martin, M., 2011. Cutadapt removes adapter sequences high-throughput sequencing reads. EMBnet.journal 17, 10. https://doi.org/10.14806/ej.17.1.200","code":""},{"path":"/articles/vignette-datasets.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Datasets","text":"page (Fig. 1) lists datasets included database (41 current version) basic information (reference, number samples, mean number reads). Datasets can selected using left panel also quick way select datasets specific environments time series (Fig. 2). possible save settings (dataset selected, gene region, DNA/RNA etc…) simple text file (yaml) can edited/reloaded. Fig.1: Datasets. Fig. 2: Quick selection datasets (top arrow).","code":""},{"path":"/articles/vignette-datasets.html","id":"example-of-yaml-file","dir":"Articles","previous_headings":"Overview","what":"Example of YAML file","title":"Datasets","text":"","code":"gene_region: V4 DNA_RNA: DNA ecosystem: - oceanic - coastal substrate: water fraction_name: - pico - total depth_level: - surface - euphotic - mesopelagic - bathypelagic datasets_selected_id: - '35' - '34' - '1' - '3' - '2' - '206' - '205' reads_min: 100"},{"path":"/articles/vignette-diversity.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Diversity","text":"Alpha beta diversity performed using phyloseq package (McMurdie Holmes, 2013). time resources used computations, maximum number samples possible 1000. samples, need deselect datasets groups samples. Number reads rarefield normalized. alpha diversity, smoothing done “gam” (general additive model). Samples diversity 0 removed. increase minimum number reads ASV must (left menu) computation faster. order start computation, press button build phyloseq file selected data. PATIENT, computation takes time especially beta diversity…","code":""},{"path":"/articles/vignette-diversity.html","id":"alpha-diversity","dir":"Articles","previous_headings":"","what":"Alpha diversity","title":"Diversity","text":"can: compute different indices display violin plot using discrete variable y-axis. Change y axis. choose continuous variable (depth, latitude, temperature, salinity), can choose discretize intervals. Change color points (continuous variables) Change shape points (discrete variables) Fig. 1A: Alpha diversity: continuous y axis Fig. 1B: Alpha diversity: discrete y-axis","code":""},{"path":"/articles/vignette-diversity.html","id":"beta-diversity","dir":"Articles","previous_headings":"","what":"Beta diversity","title":"Diversity","text":"can: Use different methods distances Change x axis Change color points (continuous variables) Change shape points (discrete variables) Fig. 2: Beta diversity samples. Fig. 3: Bata diversity taxa phyloseq object structure.","code":""},{"path":"/articles/vignette-diversity.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Diversity","text":"McMurdie, P.J., Holmes, S., 2013. Phyloseq: R Package Reproducible Interactive Analysis Graphics Microbiome Census Data. PLoS ONE 8, e61217. https://doi.org/10.1371/journal.pone.0061217","code":""},{"path":"/articles/vignette-download.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Download","text":"panel allows download processed data. following files provided. can linked key fields. contain selected datasets, sample type taxa. asv_reads phyloseq files can big download datasets taxa.   Fig. 1: Download page","code":""},{"path":"/articles/vignette-maps.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Maps","text":"Reads expressed % relative total eukaryotes. taxa shown level selected. example select division, different classes within division shown (see Fig. 3). Crosses indicate samples selected taxonomic group absent. map panel offers 2 different views: Dominant taxon: color circles represent dominant taxon. click circle contribution taxonomic group selected provided information sample (Fig. 1). includes dataset_id, dataset_code, station_id, depth_level substrate. Pie chart: different taxon next rank represented. Click pie chart provide % contribution group taxonomic level selected (Fig. 2) Reads expressed % relative total eukaryotes. taxa shown level selected. example select division, different classes within division shown. Crosses indicate samples selected taxonomic group absent. Fig.1: Map panel indpminant taxon mode. Fig.2: Map panel pie chart mode. total number stations without taxon present indicated map (Fig. 3, red rectangle). size circle can changed moving cursor map. expressed % total eukaryotic reads. Fig.3: Taxonomic level selected family. Size circles increased represent 50% total eukaryotic reads maximum.","code":""},{"path":"/articles/vignette-query.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Query","text":"panel allows query ASVs database. Enter sequence (sequence, include fasta header) press Searchbutton. ASVs database searched (teh selected datasets samples). clicking sequence ASV table (Fig. 1) can display distribution ASV samples selected. can change number sequences displayed decreasing similarity threshold (Fig. 2). Fig. 1: Query page map selected ASV Fig. 2: Query page decreasing similarity threshold.","code":""},{"path":"/articles/vignette-query.html","id":"test-sequence","dir":"Articles","previous_headings":"","what":"Test sequence","title":"Query","text":"can use sequence (Micromonas) test functionality include starting #>.","code":"#> ACCTGGTTGATCCTGCCAGTAGTCATATGCTTGTCTCAAAGATTAAGCCATGCATGTCTAAGTATAAGCGTTATACTGTGAAACTGCGAATGGCTCATTAAATCAGCAATAGTTTCTTTGGTGGTGTTTACTACATGGATAACCGTAGTAATTCTAGAGCTAATACATGCGTAAATCCCGACTTCGGAAGGGACGTATTTATTAGATAAAGACCGACCTCGTTCTGCGGTGAATCATGATAACTTCACGGACCGCATGGCCTCGCGCCGGCGGTGTTCCATTCAAATTTCTGCCCTATCAACTTTCGACGGTAGGATAGAGGCCTACCGTGGTGTTCACGGGTGACGGAGAATTAGGGTTCGATTCCGGAGAGGGAGCCTGAGAAACGGCTACCACATCCAAGGAAGGCAGCAGGCGCGCAAATTACCCAATCCTGACACAGGGAGGTAGTGACAATAAATAACAATATCGGGGTTTTTCAACTCTGATAATTGGAATGAGAACAATCTAAATCCCTTAACGAGGATCCATTGGAGGGCAAGTCTGGTGCCAGCAGCCGCGGTAATTCCAGCTCCAATAGCGTATATTTAAGTTGTTGCAGTTAAAAAGCTCGTAGTTGGATTTCGGTTAAGAGCGACCGGTCCGCCGTTTGGTGTGCACTGGTTGGTTTTAACTTCCTGTAGAGGACGTGCTCTGGGTTTAACGACCTGGACTCGGAGTCTACGTGGTTACTTTGAAAAAATTAGAGTGTTCAAAGCGGGCTTACGCTTGAATATTTCAGCATGGAATAACACTATAGGACTCCTGTCCTATTTCGTTGGTCTCGGGACGGGAGTAATGATTAAGAGGAACAGTTGGGGGCATTCGTATTTCATTGTCAGAGGTGAAATTCTTGGATTTATGAAAGACGAACTTCTGCGAAAGCATTTGCCAAGGATGTTTTCATTAATCAAGAACGAAAGTTGGGGGCTCGAAGATGATTAGATACCATCCTAGTCTCAACCATAAACGATGCCGACTAGGGATTGGCGGATGTTAATTGATGACTCCGCCAGCACCTTATGAGAAATCAAAGTTTTTGGGTTCCGGGGGGAGTATGGTCGCAAGGCTGAAACTTAAAGGAATTGACGGAAGGGCACCACCAGGCGTGGAGCCTGCGGCTTAATTTGACTCAACACGGGAAAACTTACCAGGTCCAGACATAGTAAGGATTGACAGATTGAGAGCTCTTTCTTGATTCTATGGGTGGTGGTGCATGGCCGTTCTTAGTTGGTGGAGTGATTTGTCTGGTTAATTCCGTTAACGAACGAGACCTCAGCCTGCTAAATAGTTGTACGCTACTCTTAGCGCAGCAACTTCTTAGAGGGACTATTGGCGTTTAGCCAATGGAAGTTTGAGGCAATAACAGGTCTGTGATGCCCTTAGATGTTCTGGGCCGCACGCGCGCTACACTGACGAATGCAACGAGCTTATAACCTTGGCCGAAAGGTCTGGGTAATCTCCAAATTTCGTCGTGATGGGGATAGATTATTGCAATTATTAATCTTCAACGAGGAATGCCTAGTAAGCGCAAGTCATCAGCTTGCGTTGATTACGTCCCTGCCCTTTGTACACACCGCCCGTCGCTCCTACCGATTGAATGGTCCGGTGAAGCGCTCGGACCGCGGCCTCTTGACGGTTCGCTGTCGATTGGCTGTGGGAAGTTCGTTAAACCTTATCATTTAGAGGAAGGAGAAGTCGTAACAAGGTTTCCGTAGGTGAACCTGCAGAAGGATCA"},{"path":"/articles/vignette-select.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Select data","text":"panel allows select data analyzed according variety criteria. application started number defaults values selected limit number samples.","code":""},{"path":[]},{"path":"/articles/vignette-select.html","id":"select-taxonomy","dir":"Articles","previous_headings":"Overview","what":"Select taxonomy","title":"Select data","text":"possible level (supergroup, division, class, order, family, genus, species, asv_code) select 1 groups. order update plots, need press Validate button. can also completely reset taxonomy selection using Reset button. possible save reload choices made. taxonomy saved (yaml) file.","code":""},{"path":"/articles/vignette-select.html","id":"yaml-taxonomy-file","dir":"Articles","previous_headings":"Overview > Select taxonomy","what":"Yaml taxonomy file","title":"Select data","text":"","code":"level: asv_code name: - ec4282114f - edef1142c8 - 8b130de34f supergroup: Archaeplastida division: Chlorophyta class: Mamiellophyceae order: Mamiellales family: Mamiellaceae genus: Micromonas species: Micromonas_polaris asv_code: - ec4282114f - edef1142c8 - 8b130de34f taxa_excluded: Streptophyta"},{"path":"/articles/vignette-treemaps.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"Treemaps","text":"Total read number per sample normalized 100 3 decimals value displayed different panels correspond % total eukaryotic reads. Fig.1: Treeemap.","code":""},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Daniel Vaulot. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Vaulot D (2021). metapr2: Eukaryotic 18S rRNA metabarcode database. R package version 1.0.2.","code":"@Manual{,   title = {metapr2: Eukaryotic 18S rRNA metabarcode database},   author = {Daniel Vaulot},   year = {2021},   note = {R package version 1.0.2}, }"},{"path":[]},{"path":"/index.html","id":"a-database-of-18s-rrna-metabarcodes","dir":"","previous_headings":"","what":"A database of 18S rRNA metabarcodes","title":"An R package for interactive access to metaPR2 database","text":"Database version: 1.0.0 - 41 datasets Shiny application version: 1.0.2","code":""},{"path":"/index.html","id":"presentation","dir":"","previous_headings":"A database of 18S rRNA metabarcodes","what":"Presentation","title":"An R package for interactive access to metaPR2 database","text":"MetaPR2 database published 18S rRNA metabarcodes reprocessed assigned using PR2.","code":""},{"path":"/index.html","id":"acessing-the-database","dir":"","previous_headings":"A database of 18S rRNA metabarcodes","what":"Acessing the database","title":"An R package for interactive access to metaPR2 database","text":"Access database map, search download barcodes can done three different ways: 1 - Using web interface. 2 - Download R package launch shiny application. 3 - Download run Docker container","code":""},{"path":"/index.html","id":"1---web-interface","dir":"","previous_headings":"A database of 18S rRNA metabarcodes > Acessing the database","what":"1 - Web interface","title":"An R package for interactive access to metaPR2 database","text":"http://shiny.metapr2.org","code":""},{"path":"/index.html","id":"2---metapr2-shiny-r-package","dir":"","previous_headings":"A database of 18S rRNA metabarcodes > Acessing the database","what":"2 - metaPR2 shiny R package","title":"An R package for interactive access to metaPR2 database","text":"(YET AVAILABLE) Install package GitHub launch function metapr2App()","code":"install.packages(devtools) devtools::install_github(\"pr2database/metapr2-shiny\") metapr2::metapr2App()"},{"path":"/index.html","id":"3---metapr2-docker-container","dir":"","previous_headings":"A database of 18S rRNA metabarcodes > Acessing the database","what":"3 - metaPR2 Docker container","title":"An R package for interactive access to metaPR2 database","text":"(YET AVAILABLE) available Docker repository","code":""},{"path":"/index.html","id":"help","dir":"","previous_headings":"A database of 18S rRNA metabarcodes","what":"Help","title":"An R package for interactive access to metaPR2 database","text":"Extensive help provided .","code":""},{"path":"/index.html","id":"errors","dir":"","previous_headings":"A database of 18S rRNA metabarcodes","what":"Errors","title":"An R package for interactive access to metaPR2 database","text":"Please report errors Issues page metaPR2 database.","code":""},{"path":"/index.html","id":"citation","dir":"","previous_headings":"A database of 18S rRNA metabarcodes","what":"Citation","title":"An R package for interactive access to metaPR2 database","text":"Vaulot, D. et al. (2021). metaPR2 : interactive 18S rRNA metabarcode database. Unpublished","code":""},{"path":"/index.html","id":"maintainer","dir":"","previous_headings":"A database of 18S rRNA metabarcodes","what":"Maintainer","title":"An R package for interactive access to metaPR2 database","text":"Daniel Vaulot: vaulot@gmail.com","code":""},{"path":"/index.html","id":"contributors","dir":"","previous_headings":"A database of 18S rRNA metabarcodes","what":"Contributors","title":"An R package for interactive access to metaPR2 database","text":"Daniel Vaulot, CNRS Roscoff, NTU-ASE Geek lab Adriana Lopes dos Santos, NTU-ASE Geek lab Clarence Sim, NTU-ASE Geek lab Denise Ong, NTU-ASE Geek lab Bryan Teo, NTU-ASE Geek lab Mahwash Jamy, Uppsala University Sweden Charlie Biwer, Uppsala University Sweden","code":""},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 D. Vaulot Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"maps","dir":"","previous_headings":"","what":"Maps","title":"====================================","text":"polar projection ASV map, allow user select ASV left menu special color… color ASVs treemap Map barplots treemaps. Order colors abundant least abundant (ASV map) Color picker - https://github.com/daattali/colourpicker/","code":""},{"path":[]},{"path":"/readme_Shiny.html","id":"setting-panel","dir":"","previous_headings":"Maps","what":"Setting panel","title":"====================================","text":"Color blind: https://cran.r-project.org/web/packages/ggokabeito/readme/README.html?s=09 Allow use save selection reload (format yaml ?)","code":""},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"query","dir":"","previous_headings":"Dataset module","what":"Query","title":"====================================","text":"Allow select one ASV","code":""},{"path":"/readme_Shiny.html","id":"other","dir":"","previous_headings":"Dataset module","what":"Other","title":"====================================","text":"Write background taxa selected… able search specific species Add heatmaps better feedback: https://github.com/daattali/shinyalert better disconnect: https://github.com/daattali/shinydisconnect/","code":""},{"path":"/readme_Shiny.html","id":"bugs","dir":"","previous_headings":"","what":"Bugs","title":"====================================","text":"Query. ’m strange problem. first checked Pterosperma ASV 00244 dataset 23 (ASV ID 81431, sequence 03e10e8596dd5f255a475cdf10b01b141a8dc798) public database, found match. passed private link, found, course, within Amundsen 23, also two samples OSD one Tara. went back public database search , now find matches , public private, even dataset 23 .. gone. Can check can find ? Sequence: AGCTCCAATAGCGTATATTTAAGTTGTTGCAGTTAAAAAGCTCGTAGTTGGATTTCGGGTGAATGCGACCGGTCCGCCGTATCGGTGTGCACTGGTTGCGTTTATCTTGCTGTCGGGGACGCGCTCCTGGCCTTAACTGGCTGGGACGTGGAGTCGGCGAAGTTACTTTGAAAAAATTAGAGTGTTCAAAGCAGGCCTACGCTCTGAATACATTAGCATGGAATAACGCGATAGGACTCTGGTCTTATTGTGTTGGTCTTCGAGACCGGAGTAATGATTAAGAGGGACAGTTGGGGGCATTCGTATTTCATTGTCAGAGGTGAAATTCTTGGATTTATGAAAGACGAACTTCTGCGAAAGCATTTGCCAAGGATGTTT","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"query-1","dir":"","previous_headings":"","what":"Query","title":"====================================","text":"Add “Clear” button Query","code":""},{"path":"/readme_Shiny.html","id":"alpha-and-beta-diversity","dir":"","previous_headings":"","what":"Alpha and Beta diversity","title":"====================================","text":"Use vegan https://easystats.github.io/parameters/articles/clustering.html Use Microbiome package: https://microbiome.github.io/tutorials/ Check metabarcoder nice trees https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005404 Implement function MicrobiomeSeq nnn Display output ordination box https://stackoverflow.com/questions/27139348/shiny-printing-console-output---text-object-without-waiting---function-t","code":""},{"path":"/readme_Shiny.html","id":"time-series","dir":"","previous_headings":"","what":"Time series","title":"====================================","text":"Use ggphighlight highligth groups (cf Clarence)","code":""},{"path":"/readme_Shiny.html","id":"misc","dir":"","previous_headings":"","what":"Misc","title":"====================================","text":"Allow add specific private datasets (using format) Create splash screen: https://www.r-bloggers.com/2019/12/shiny-splash-screen-using-modules--shinyjs/ Use dashboard approach: https://rstudio.github.io/shinydashboard/","code":""},{"path":"/readme_Shiny.html","id":"data-management","dir":"","previous_headings":"","what":"Data management","title":"====================================","text":"data become big switch duckdb (bit slower limitation size basically…) read Docker file, provide option Docker file. create Docker file version without private file… Provide detailed tables columns dataset Read data global.R error case absence private dataset. way data read per process sessions may cause things crash 8 users connecting.","code":""},{"path":"/readme_Shiny.html","id":"docker","dir":"","previous_headings":"","what":"Docker","title":"====================================","text":"copy private dir (Dockerfile)","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"section-7","dir":"","previous_headings":"","what":"====================================","title":"====================================","text":"devtools::load_all(“.”) # Ctrl + Shift + L load source files (/R) data (/data) metapr2App()","code":""},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"section-9","dir":"","previous_headings":"","what":"====================================","title":"====================================","text":"Cloud run : https://metapr2-public-dcx2qwgoua-..run.app/ Virtual machine: http://34.126.91.69:3838/metapr2/","code":""},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"section-11","dir":"","previous_headings":"","what":"====================================","title":"====================================","text":"usethis::use_pkgdown() pkgdown::build_site() # Need restart R","code":""},{"path":"/readme_Shiny.html","id":"preview-site","dir":"","previous_headings":"","what":"Preview site","title":"====================================","text":"pkgdown::preview_site()","code":""},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"build-articles-for-the-vignettes-of-the-pr2database-package-web-site","dir":"","previous_headings":"","what":"Build articles for the vignettes of the pr2database package web site","title":"====================================","text":"pkgdown::build_articles()","code":""},{"path":"/readme_Shiny.html","id":"build-news-when-the-newsmd-is-changed","dir":"","previous_headings":"","what":"Build news when the NEWS.md is changed","title":"====================================","text":"pkgdown::build_news()","code":""},{"path":"/readme_Shiny.html","id":"build-reference-when-the-functions-are-modified-need-to-build-documentation-before","dir":"","previous_headings":"","what":"Build reference when the functions are modified (need to Build documentation before…)","title":"====================================","text":"pkgdown::build_reference()","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"week-of-2021-09-01","dir":"","previous_headings":"","what":"Week of 2021-09-01","title":"====================================","text":"Adapt Pelago application Extend taxonomic levels Make functions general Go asv level Update size legend Break server ui individual modules (files called source() subdirectory loaded automatically)","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-09-06","dir":"","previous_headings":"","what":"Week of 2021-09-06","title":"====================================","text":"Move application golem (complicated) Fix bug due fct_taxonomy (need add \"\" besides “” level) Add Panel select different data sets Change favicon","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-09-13","dir":"","previous_headings":"","what":"Week of 2021-09-13","title":"====================================","text":"Add Panel “”","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-09-20","dir":"","previous_headings":"","what":"Week of 2021-09-20","title":"====================================","text":"Add download data new panel Transform package BLAST like search","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-09-27","dir":"","previous_headings":"","what":"Week of 2021-09-27","title":"====================================","text":"Treemaps Two types maps: pie dominant single function Add phyloseq support (use standard filtering, must use prune function) Change way selecting datasets Alpha diversity Beta diversity Trim low abundance taxa alpha beta diversity (use input$) Move explanations readme files NMDS use different distances: Gower, Bray-Curtis, Jensen-Shannon Divergence, Jaccard","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-10-04","dir":"","previous_headings":"","what":"Week of 2021-10-04","title":"====================================","text":"checks condition selected error occurs Use different X alpha diversity Download phyloseq Move UI main panel RenderUI server side NMDS, use level selected level taxonomy plot Switch ShinyFeedback shinyvalidate Beta diversity - Add variables color shape (temperature, depth etc…) Barplot using dplyr Reorder depth_level barplots Move resources needed /inst/img inst/readme Create app.R main directory load package run . Creat “.md” “inst/readme” directory Histogram function continuous latitude, temperature, depth… regroup first plot Use tidyevaluation functions need character input (barplot) Barplot Phyloseq","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-10-11","dir":"","previous_headings":"","what":"Week of 2021-10-11","title":"====================================","text":"Maps Download Query Taxonomy (returns taxo()) Datasets Change data handling using new df_selected. Handle errors data selected (barplot, maps, phyloseq, treemap) Update functions all_of across without forgetting use c() .data[[x]] (replace !!.symbol) (see https://mastering-shiny.org/action-tidy.html) Update dockerignore Dockerfile Problem phyloseq requires library installed problem fct_sequence file (mysterious) Finalize Push also Google run","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-10-18","dir":"","previous_headings":"","what":"Week of 2021-10-18","title":"====================================","text":"Change length asv_code 8 10 (ambuiguity whole database) Suppress warning messages Reassign metapr2 PR2 4.14.0 DECIPHER dada2 Create one table assignement Remove assignement columns metapr2_asv Modify dv_utils take account new structure Update files Shiny PR2 4.12 Add back gene region Remove gene, gene_region, organelle asv table since information already dataset table Change dataset picker Update GitHub, web site web app Remove phyloseq file public dataset (phyloseq 2 Go loaded) compute anymore df_full build df_selected fly reduce memory use metapr2 class (5 datasets) metapr2-public datasets version 1.0 R libraries must installed root sudo Use pryr monitor memory Remove columns used Separate download 2 packets Style download buttons","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-10-25","dir":"","previous_headings":"","what":"Week of 2021-10-25","title":"====================================","text":"Fix problem qs Docker (read library… ) Use trycatch 2 cases data loading Fix pico_nano size fraction Add ecosystem type Order datasets alphabetically Fix datasets names Create 2 docker containers, private public Add authentification restreindre public datasets: https://github.com/datastorm-open/shinymanager Select data sets based users","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-11-01","dir":"","previous_headings":"","what":"Week of 2021-11-01","title":"====================================","text":"Use blaster package query: https://github.com/manutamminen/blaster Move data saving dvutils Change user validation Select row draw map… https://rstudio.github.io/DT/shiny.html https://yihui.shinyapps.io/DT-rows/ Use asv_code row_name Use selection = ‘single’. Draw map … Clear map searching Order pidf sum_reads_asv Format sum_reads_asv separator space Remove taxo box left asv_min require fasta_selected use directly asv_set$fasta Replace asv_all asv_blast Say asv searched Move crosses text just map. Put asv_code bold","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-11-08","dir":"","previous_headings":"","what":"Week of 2021-11-08","title":"====================================","text":"asv_set read module_datasets.R global.R global still read global.R credentials saved special file credentials.qs Write readme barplot (depth limited 250 m) barplot: fix error one value discrete variable Phyloseq - create function computing phyloseq fly Create one panel subpanels Create phyloseq object fly validation Rmd metapr2","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-11-15","dir":"","previous_headings":"","what":"Week of 2021-11-15","title":"====================================","text":"Major problem fixed file produced metapr2_export_asv… Must remove dataset_id asv_set table merging sample remove samples dataset_id higher first asv given hash value Remove Fisher distance bugs many cases Add ecosystem salinity phyloseq functions Add possibility change shape alpha diversity Phyloseq download (generate PS fly less 5000 samples) Create 2 datasets different directories loaded using different password asv_set now reactive variable. needs passed query module search done full set ASVs Now works R package. Marine global Soils Rivers Lakes Polar Create compose.yaml Docker Move metapr2-public metapr2 === Version 1.0.0 === Create Slack channel Add ecological function fasta file Prevent side panel scrolling incorporate logo side panel Add ecological_function barplot Use plotly Time series (Year, Month, Date) bar plot Move github metapr2-shiny inside pr2database Use pkg help (problem trying reference figures!)","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-11-22","dir":"","previous_headings":"","what":"Week of 2021-11-22","title":"====================================","text":"Document panels Fix small issue dataset table (replace name updating selection tool) Put year boundaries… Add salinity Sidebar. Create scrolling: https://stackoverflow.com/questions/66582335/dynamically-sized-sidebarpanel--mainpanel--shiny Add dataset_id map label Update help sample selection === Version 1.0.1 === * Restrict menu datasets 10 items * Set vm machine 2 CPU 8 Go e2-standard - 60 per month * Barplots: add number samples * Diversity Alpha * Use Violin + Sina plot discrete variable * Allow discretization continuous variables (e.g. depth, latitude) * Use nginx Gcloud VM * create back redirection address * move pelago micropolar-protists VM well","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-11-29","dir":"","previous_headings":"","what":"Week of 2021-11-29","title":"====================================","text":"Update barplots depth allowing depths plotted. Use … barplots phyloseq Add information dominant taxon map popup Change default nreads_min 100 https://www.charlesbordet.com/fr/guide-shiny-aws/#6-securiser-application-https https://certbot.eff.org/instructions?ws=nginx&os=ubuntu-20 Replace “cat” “message” registered log error Save/Load settings put dataset page Incorporate error management loading yaml file Now values selection preserved choosing different datasets Maps: %>% addProviderTiles(providers$Esri.WorldStreetMap)","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-12-06","dir":"","previous_headings":"","what":"Week of 2021-12-06","title":"====================================","text":"Select 1 level Save reload taxo Reset taxonomy menus automatically updated loading new values values update Solution: Use flag reset taxonomy add button reset taxonomy","code":""},{"path":"/readme_Shiny.html","id":"week-of-2021-12-13","dir":"","previous_headings":"","what":"Week of 2021-12-13","title":"====================================","text":"Implement taxonomy picker application barplot map treemap Change selection logic module dataset taxonomy present samples considered Problème replot buttons Use instead validate taxonomy button ignoreNull = FALSE plots created t=0 Add lines tropics poles based agreed convention (eg: 33.5N 33.5S tropical etc). , possible include latitudinal lines across map? Treemap colors maps barplots Add Treemap ASVs === Version 1.0.2 ===","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"to-update-namespace-as-well-as-function-rd-files","dir":"","previous_headings":"","what":"To update NAMESPACE as well as function Rd files","title":"====================================","text":"devtools::document()","code":""},{"path":"/readme_Shiny.html","id":"to-create-description-only-do-once-","dir":"","previous_headings":"","what":"To create DESCRIPTION (only do once !)","title":"====================================","text":"usethis::use_description()","code":""},{"path":"/readme_Shiny.html","id":"testing-is-only-done-once","dir":"","previous_headings":"","what":"Testing is only done once","title":"====================================","text":"usethis::use_testthat() usethis::use_test() # initialize basic test file open editing.","code":""},{"path":"/readme_Shiny.html","id":"for-licence-done-once","dir":"","previous_headings":"","what":"For licence, done once","title":"====================================","text":"usethis::use_mit_license(copyright_holder = NULL)","code":""},{"path":"/readme_Shiny.html","id":"update-description-with-package-needed","dir":"","previous_headings":"","what":"Update DESCRIPTION with package needed","title":"====================================","text":"writes package DESCRIPTION file, function can loaded package::function","code":""},{"path":"/readme_Shiny.html","id":"shiny","dir":"","previous_headings":"Update DESCRIPTION with package needed","what":"Shiny","title":"====================================","text":"usethis::use_package( “pkgload” ) usethis::use_package( “shiny” ) usethis::use_package( “bslib” ) # Bootstrap themes # usethis::use_package( “shinyFeedback” ) # user feedback usethis::use_package( “shinyvalidate” ) # validation input (easier use shinyFeedback) usethis::use_package( “shinycssloaders” ) # spinning wheel usethis::use_package( “shinyWidgets” ) # Extra widgets - https://dreamrs.github.io/shinyWidgets/index.html usethis::use_package( “shinymanager” ) # Authentification usethis::use_package( “markdown” ) # display text boxes md usethis::use_package( “DT” ) # table display","code":""},{"path":"/readme_Shiny.html","id":"tidyverse","dir":"","previous_headings":"Update DESCRIPTION with package needed","what":"Tidyverse","title":"====================================","text":"usethis::use_package( “dplyr” ) usethis::use_package( “tidyr” ) usethis::use_package( “stringr” ) usethis::use_package( “forcats” ) usethis::use_package( “lubridate” ) usethis::use_package( “purrr” )","code":""},{"path":"/readme_Shiny.html","id":"graphics","dir":"","previous_headings":"Update DESCRIPTION with package needed","what":"graphics","title":"====================================","text":"usethis::use_package( “ggplot2” ) usethis::use_package( “viridis” ) usethis::use_package( “patchwork” ) usethis::use_package( “treemapify” ) usethis::use_package( “plotly” ) usethis::use_package( “ggforce” )","code":""},{"path":"/readme_Shiny.html","id":"maps-1","dir":"","previous_headings":"Update DESCRIPTION with package needed","what":"maps","title":"====================================","text":"usethis::use_package( “leaflet” ) usethis::use_package( “leaflet.minicharts” ) # nice pie charts","code":""},{"path":"/readme_Shiny.html","id":"misc-1","dir":"","previous_headings":"Update DESCRIPTION with package needed","what":"Misc","title":"====================================","text":"usethis::use_package( “rio” ) usethis::use_package( “qs” ) # ultrafast loading usethis::use_package( “pryr” ) # memory management usethis::use_package( “scrypt” ) # encrypting","code":""},{"path":"/readme_Shiny.html","id":"bioinformatics","dir":"","previous_headings":"Update DESCRIPTION with package needed","what":"Bioinformatics","title":"====================================","text":"usethis::use_package( “Biostrings” ) usethis::use_package( “phyloseq” ) usethis::use_package( “blaster” )","code":""},{"path":"/readme_Shiny.html","id":"for-debugging","dir":"","previous_headings":"","what":"For debugging","title":"====================================","text":"reactlog::reactlog_enable() # CTR-F3 real time shiny::reactlogShow()","code":""},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"section-17","dir":"","previous_headings":"","what":"====================================","title":"====================================","text":"NAR special web issue: https://academic.oup.com/nar/pages/submission_webserver (Dec 20)","code":""},{"path":[]},{"path":[]},{"path":"/readme_Shiny.html","id":"section-19","dir":"","previous_headings":"","what":"====================================","title":"====================================","text":"Full data set…. Object: asv_set - size: 92.86 Mb Object: asv_setdf − size : 56.53MbObject : asvsetfasta - size: 39.51 Mb Object: global - size: 10.86 Mb","code":""},{"path":"/reference/metapr2App.html","id":null,"dir":"Reference","previous_headings":"","what":"Launch metapr2 shiny app — metapr2App","title":"Launch metapr2 shiny app — metapr2App","text":"Launch metapr2 shiny app","code":""},{"path":"/reference/metapr2App.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Launch metapr2 shiny app — metapr2App","text":"","code":"metapr2App()"},{"path":"/reference/metapr2App.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Launch metapr2 shiny app — metapr2App","text":"","code":"# Starts shiny application  if (FALSE) {  metapr2::metapr2App()  }"},{"path":"/news/index.html","id":"metapr2-102","dir":"Changelog","previous_headings":"","what":"metapr2 1.0.2","title":"metapr2 1.0.2","text":"Released: 2021-12-14","code":""},{"path":"/news/index.html","id":"datasets-1-0-2","dir":"Changelog","previous_headings":"","what":"Datasets","title":"metapr2 1.0.2","text":"Settings (datasets, type samples) can saved recalled","code":""},{"path":"/news/index.html","id":"taxonomy-1-0-2","dir":"Changelog","previous_headings":"","what":"Taxonomy","title":"metapr2 1.0.2","text":"Now one taxon can selected Three divisions can removed (Fungi, Metazoa Streptophyta) Taxa (selected excluded) can saved recalled necessary press “Validate taxa” replot changing taxo selection","code":""},{"path":"/news/index.html","id":"treemaps-1-0-2","dir":"Changelog","previous_headings":"","what":"Treemaps","title":"metapr2 1.0.2","text":"Color taxa now match panels Add treemap ASVs number","code":""},{"path":"/news/index.html","id":"maps-1-0-2","dir":"Changelog","previous_headings":"","what":"Maps","title":"metapr2 1.0.2","text":"Add topography Add equator, tropics polar circle","code":""},{"path":"/news/index.html","id":"barplots-1-0-2","dir":"Changelog","previous_headings":"","what":"Barplots","title":"metapr2 1.0.2","text":"Add number samples bar","code":""},{"path":"/news/index.html","id":"diversity-alpha-1-0-2","dir":"Changelog","previous_headings":"","what":"Diversity Alpha","title":"metapr2 1.0.2","text":"Use Violin + Sina plot discrete variable Allow discretization continuous variables (e.g. depth, latitude)","code":""},{"path":"/news/index.html","id":"metapr2-101","dir":"Changelog","previous_headings":"","what":"metapr2 1.0.1","title":"metapr2 1.0.1","text":"Released: 2021-11-22","code":""},{"path":"/news/index.html","id":"documentation-1-0-1","dir":"Changelog","previous_headings":"","what":"Documentation","title":"metapr2 1.0.1","text":"Using pkgdown: https://pr2database.github.io/metapr2-shiny/","code":""},{"path":"/news/index.html","id":"barplots-1-0-1","dir":"Changelog","previous_headings":"","what":"Barplots","title":"metapr2 1.0.1","text":"Make interactive (R plotly library) Add coloring ecological function Add time series","code":""},{"path":"/news/index.html","id":"metapr2-100","dir":"Changelog","previous_headings":"","what":"metapr2 1.0.0","title":"metapr2 1.0.0","text":"Released: 2021-11-19 Initial release","code":""}]
