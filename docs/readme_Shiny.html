<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>==================================== • metapr2</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="====================================" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">metapr2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/metapr2.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="articles/maps.html">Maps</a>
    </li>
    <li>
      <a href="articles/barplots.html">Barplots</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>====================================</h1>
    </div>


<div id="section" class="section level1">

</div>
<div id="to-do" class="section level1">
<h1 class="hasAnchor">
<a href="#to-do" class="anchor"></a>To do</h1>
</div>
<div id="section-1" class="section level1">
<h1 class="hasAnchor">
<a href="#section-1" class="anchor"></a>====================================</h1>
<div id="small-stuff" class="section level2">
<h2 class="hasAnchor">
<a href="#small-stuff" class="anchor"></a>Small stuff</h2>
<p>Barplots:</p>
<ul>
<li><p>Put year boundaries…</p></li>
<li><p>Add salinity</p></li>
<li><p>For ASV map, allow user to select ASV from the left menu and have it as a special color…</p></li>
<li><p>Order colors by most abundant to least abundant (only for ASV map)</p></li>
</ul>
</div>
<div id="priority" class="section level2">
<h2 class="hasAnchor">
<a href="#priority" class="anchor"></a>Priority</h2>
<ul>
<li><p>Order on the legend on the maps the taxa by decreasing abundance in the dataset. Color should follow same order…<br></p></li>
<li><p>Add a treemap of ASVs number</p></li>
<li><p>Be able to search for a specific species</p></li>
<li><p>Add heatmaps</p></li>
</ul>
</div>
<div id="bugs" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs" class="anchor"></a>Bugs</h2>
</div>
<div id="later" class="section level2">
<h2 class="hasAnchor">
<a href="#later" class="anchor"></a>Later</h2>
<div id="query" class="section level3">
<h3 class="hasAnchor">
<a href="#query" class="anchor"></a>Query</h3>
<ul>
<li>Add a “Clear” button for Query</li>
</ul>
</div>
<div id="alpha-and-beta-diversity" class="section level3">
<h3 class="hasAnchor">
<a href="#alpha-and-beta-diversity" class="anchor"></a>Alpha and Beta diversity</h3>
<ul>
<li><p>Use vegan</p></li>
<li><p><a href="https://easystats.github.io/parameters/articles/clustering.html" class="uri">https://easystats.github.io/parameters/articles/clustering.html</a></p></li>
<li><p>Check metabarcoder for nice trees <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005404" class="uri">https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1005404</a></p></li>
<li><p>Implement some function of MicrobiomeSeq <a href="http://userweb.eng.gla.ac.uk/umer.ijaz/projects/microbiomeSeq_Tutorial.html#alpha_div" class="uri">http://userweb.eng.gla.ac.uk/umer.ijaz/projects/microbiomeSeq_Tutorial.html#alpha_div</a></p></li>
<li><p>Display output of ordination in box <a href="https://stackoverflow.com/questions/27139348/shiny-printing-console-output-to-a-text-object-without-waiting-for-a-function-t" class="uri">https://stackoverflow.com/questions/27139348/shiny-printing-console-output-to-a-text-object-without-waiting-for-a-function-t</a></p></li>
</ul>
</div>
<div id="time-series" class="section level3">
<h3 class="hasAnchor">
<a href="#time-series" class="anchor"></a>Time series</h3>
<ul>
<li>Use ggphighlight to highligth groups (cf Clarence)</li>
</ul>
</div>
<div id="misc" class="section level3">
<h3 class="hasAnchor">
<a href="#misc" class="anchor"></a>Misc</h3>
<ul>
<li>Allow to add specific private datasets (using same format)</li>
<li>Use ploty to interact with some graphics</li>
<li>Create splash screen: <a href="https://www.r-bloggers.com/2019/12/shiny-splash-screen-using-modules-and-shinyjs/" class="uri">https://www.r-bloggers.com/2019/12/shiny-splash-screen-using-modules-and-shinyjs/</a>
</li>
</ul>
</div>
<div id="data-management" class="section level3">
<h3 class="hasAnchor">
<a href="#data-management" class="anchor"></a>Data management</h3>
<ul>
<li>If data become too big switch duckdb (a bit slower but no limitation on size basically…)</li>
<li>For the private part create two versions of the qs file. One is not saved to GitHub and is only read with the private key…</li>
<li>It could be read from the Docker file, so do not provide option for Docker file. So create a separate Docker file version without the private file…</li>
</ul>
</div>
<div id="docker" class="section level3">
<h3 class="hasAnchor">
<a href="#docker" class="anchor"></a>Docker</h3>
<ul>
<li>Use ARGs to have one image without the private dir</li>
<li>Create a compose YAML file</li>
<li>Probably better to have 2 Docker files…. One which will only be used for the Docker repository</li>
</ul>
</div>
</div>
</div>
<div id="section-2" class="section level1">
<h1 class="hasAnchor">
<a href="#section-2" class="anchor"></a>==================================================================================================================================</h1>
</div>
<div id="section-3" class="section level1">
<h1 class="hasAnchor">
<a href="#section-3" class="anchor"></a>==================================================================================================================================</h1>
</div>
<div id="section-4" class="section level1">
<h1 class="hasAnchor">
<a href="#section-4" class="anchor"></a>====================================</h1>
</div>
<div id="run-as-package" class="section level1">
<h1 class="hasAnchor">
<a href="#run-as-package" class="anchor"></a>Run as package</h1>
</div>
<div id="section-5" class="section level1">
<h1 class="hasAnchor">
<a href="#section-5" class="anchor"></a>====================================</h1>
<p>devtools::load_all(“.”) # Ctrl + Shift + L to load source all files (/R) and data (/data) metapr2App()</p>
</div>
<div id="section-6" class="section level1">
<h1 class="hasAnchor">
<a href="#section-6" class="anchor"></a>====================================</h1>
</div>
<div id="run-on-google-cloud" class="section level1">
<h1 class="hasAnchor">
<a href="#run-on-google-cloud" class="anchor"></a>Run on Google cloud</h1>
</div>
<div id="section-7" class="section level1">
<h1 class="hasAnchor">
<a href="#section-7" class="anchor"></a>====================================</h1>
<ul>
<li>Cloud run : <a href="https://metapr2-public-dcx2qwgoua-as.a.run.app/" class="uri">https://metapr2-public-dcx2qwgoua-as.a.run.app/</a>
</li>
<li>Virtual machine: <a href="http://34.126.91.69:3838/metapr2/" class="uri">http://34.126.91.69:3838/metapr2/</a>
</li>
</ul>
</div>
<div id="section-8" class="section level1">
<h1 class="hasAnchor">
<a href="#section-8" class="anchor"></a>====================================</h1>
</div>
<div id="documentation-with-pkgdown" class="section level1">
<h1 class="hasAnchor">
<a href="#documentation-with-pkgdown" class="anchor"></a>Documentation with pkgdown</h1>
</div>
<div id="section-9" class="section level1">
<h1 class="hasAnchor">
<a href="#section-9" class="anchor"></a>====================================</h1>
<p>usethis::use_pkgdown()</p>
<p>pkgdown::build_site()</p>
</div>
<div id="preview-site" class="section level1">
<h1 class="hasAnchor">
<a href="#preview-site" class="anchor"></a>Preview site</h1>
<p>pkgdown::preview_site()</p>
</div>
<div id="when-the-readmemd-is-modified-fails-to-work-use-the-build_site-" class="section level1">
<h1 class="hasAnchor">
<a href="#when-the-readmemd-is-modified-fails-to-work-use-the-build_site-" class="anchor"></a>when the README.md is modified (fails to work, use the build_site )</h1>
</div>
<div id="pkgdownbuild_home" class="section level1">
<h1 class="hasAnchor">
<a href="#pkgdownbuild_home" class="anchor"></a>pkgdown::build_home()</h1>
</div>
<div id="build-articles-for-the-vignettes-of-the-pr2database-package-web-site" class="section level1">
<h1 class="hasAnchor">
<a href="#build-articles-for-the-vignettes-of-the-pr2database-package-web-site" class="anchor"></a>Build articles for the vignettes of the pr2database package web site</h1>
<p>pkgdown::build_articles()</p>
</div>
<div id="build-news-when-the-newsmd-is-changed" class="section level1">
<h1 class="hasAnchor">
<a href="#build-news-when-the-newsmd-is-changed" class="anchor"></a>Build news when the NEWS.md is changed</h1>
<p>pkgdown::build_news()</p>
</div>
<div id="build-reference-when-the-functions-are-modified-need-to-build-documentation-before" class="section level1">
<h1 class="hasAnchor">
<a href="#build-reference-when-the-functions-are-modified-need-to-build-documentation-before" class="anchor"></a>Build reference when the functions are modified (need to Build documentation before…)</h1>
<p>pkgdown::build_reference()</p>
</div>
<div id="section-10" class="section level1">
<h1 class="hasAnchor">
<a href="#section-10" class="anchor"></a>====================================</h1>
</div>
<div id="history" class="section level1">
<h1 class="hasAnchor">
<a href="#history" class="anchor"></a>History</h1>
</div>
<div id="section-11" class="section level1">
<h1 class="hasAnchor">
<a href="#section-11" class="anchor"></a>====================================</h1>
<div id="week-of-2021-09-01" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-09-01" class="anchor"></a>Week of 2021-09-01</h2>
<ul>
<li>Adapt Pelago application</li>
<li>Extend to all taxonomic levels</li>
<li>Make functions more general</li>
<li>Go down to asv level</li>
<li>Update size legend</li>
<li>Break server and ui into individual modules (files that are called by source() have to be in a subdirectory so that they are not loaded automatically)</li>
</ul>
</div>
<div id="week-of-2021-09-06" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-09-06" class="anchor"></a>Week of 2021-09-06</h2>
<ul>
<li>Move application out of golem (too complicated)</li>
<li>Fix bug which was due to fct_taxonomy (need to add "" besides “All” at each level)</li>
<li>Add Panel to select the different data sets</li>
<li>Change favicon</li>
</ul>
</div>
<div id="week-of-2021-09-13" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-09-13" class="anchor"></a>Week of 2021-09-13</h2>
<ul>
<li>Add Panel “About”</li>
</ul>
</div>
<div id="week-of-2021-09-20" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-09-20" class="anchor"></a>Week of 2021-09-20</h2>
<ul>
<li>Add download of data in new panel</li>
<li>Transform to a package</li>
<li>BLAST like search</li>
</ul>
</div>
<div id="week-of-2021-09-27" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-09-27" class="anchor"></a>Week of 2021-09-27</h2>
<ul>
<li>Treemaps</li>
<li>Two types of maps: pie and dominant with a single function</li>
<li>Add phyloseq support (cannot use standard filtering, must use the prune function)</li>
<li>Change way of selecting datasets</li>
<li>Alpha diversity</li>
<li>Beta diversity</li>
<li>Trim low abundance taxa for alpha and beta diversity (use input$)</li>
<li>Move explanations to readme files</li>
<li>NMDS use different distances: Gower, Bray-Curtis, Jensen-Shannon Divergence, Jaccard</li>
</ul>
</div>
<div id="week-of-2021-10-04" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-10-04" class="anchor"></a>Week of 2021-10-04</h2>
<ul>
<li>Do checks so that if no condition selected no error occurs</li>
<li>Use different X for alpha diversity</li>
<li>Download phyloseq</li>
<li>Move all UI in the main panel to RenderUI on the server side</li>
<li>For the NMDS, use the level below to the selected level for taxonomy plot</li>
<li>Switch from ShinyFeedback to shinyvalidate</li>
<li>Beta diversity - Add other variables for color and shape (temperature, depth etc…)</li>
<li>Barplot using dplyr</li>
<li>Reorder depth_level for barplots</li>
<li>Move all resources needed to /inst/img and inst/readme</li>
<li>Create an app.R in the main directory to load the package and run it.</li>
<li>Creat an “about.md” in the “inst/readme” directory</li>
<li>Histogram as a function of continuous latitude, of temperature, depth… regroup first and then plot</li>
<li>Use tidyevaluation for functions that need character input (barplot)</li>
<li>Do modules (cleaner, better):
<ul>
<li>Barplot</li>
<li>Phyloseq</li>
</ul>
</li>
</ul>
</div>
<div id="week-of-2021-10-11" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-10-11" class="anchor"></a>Week of 2021-10-11</h2>
<ul>
<li>Do modules (cleaner, better):
<ul>
<li>Maps</li>
<li>Download</li>
<li>Query</li>
<li>Taxonomy (returns taxo())</li>
<li>Datasets</li>
</ul>
</li>
<li>Change the data handling using the new df_selected.</li>
<li>Handle errors if no data are selected (barplot, maps, phyloseq, treemap)</li>
<li>Update functions with all_of and across without forgetting to use c() or .data[[x]] (to replace !!as.symbol) (see <a href="https://mastering-shiny.org/action-tidy.html" class="uri">https://mastering-shiny.org/action-tidy.html</a>)</li>
<li>Docker
<ul>
<li>Update dockerignore and Dockerfile</li>
<li>Problem with phyloseq which requires a library to be installed</li>
<li>There was a problem with the fct_sequence file (very mysterious)</li>
<li>Finalize</li>
<li>Push also to Google run</li>
</ul>
</li>
</ul>
</div>
<div id="week-of-2021-10-18" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-10-18" class="anchor"></a>Week of 2021-10-18</h2>
<ul>
<li>Change length of asv_code from 8 to 10 (no ambuiguity for the whole database)</li>
<li>Suppress warning messages</li>
<li>Reassign all of metapr2 with PR2 4.14.0 with both DECIPHER and dada2</li>
<li>Create one table for each assignement</li>
<li>Remove the assignement columns from metapr2_asv</li>
<li>Modify dv_utils to take into account this new structure</li>
<li>Update files in Shiny to PR2 4.12</li>
<li>Add back gene region</li>
<li>Remove gene, gene_region, organelle from asv table since this information is already in the dataset table</li>
<li>Change dataset picker</li>
<li>Update GitHub, web site and web app</li>
<li>Remove phyloseq file for the public dataset (phyloseq is about 2 Go once loaded)</li>
<li>Do not compute anymore df_full but build df_selected on the fly to reduce memory use</li>
<li>Cloud run: two version
<ul>
<li>metapr2 for the class (5 datasets)</li>
<li>metapr2-public with all the datasets from version 1.0</li>
</ul>
</li>
<li>Build a virtual machine with a Shiny server and R studio (8 Go of Mem and 10 Go disk)
<ul>
<li>R libraries must be installed as root with sudo</li>
</ul>
</li>
<li>Use pryr to monitor memory</li>
<li>Remove columns that are not used</li>
<li>Separate download in 2 packets</li>
<li>Style the download buttons</li>
</ul>
</div>
<div id="week-of-2021-10-25" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-10-25" class="anchor"></a>Week of 2021-10-25</h2>
<ul>
<li>Fix the problem with qs on Docker (cannot read from the library… )</li>
<li>Use trycatch for the 2 cases of data loading</li>
<li>Fix pico_nano in size fraction</li>
<li>Add ecosystem type</li>
<li>Order datasets alphabetically</li>
<li>Fix datasets names</li>
<li>Create 2 docker containers, private and public</li>
<li>Add authentification to restreindre to public datasets: <a href="https://github.com/datastorm-open/shinymanager" class="uri">https://github.com/datastorm-open/shinymanager</a>
</li>
<li>Select data sets based on users</li>
</ul>
</div>
<div id="week-of-2021-11-01" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-11-01" class="anchor"></a>Week of 2021-11-01</h2>
<ul>
<li>Use blaster package for the query: <a href="https://github.com/manutamminen/blaster" class="uri">https://github.com/manutamminen/blaster</a>
</li>
<li>Move data saving to dvutils</li>
<li>Change user validation</li>
<li>Create map for query
<ul>
<li>Select row and draw map…</li>
<li><a href="https://rstudio.github.io/DT/shiny.html" class="uri">https://rstudio.github.io/DT/shiny.html</a></li>
<li><a href="https://yihui.shinyapps.io/DT-rows/" class="uri">https://yihui.shinyapps.io/DT-rows/</a></li>
<li>Use the asv_code as row_name</li>
<li>Use selection = ‘single’. Draw map below…</li>
</ul>
</li>
<li>Finalize query
<ul>
<li>Clear map when searching</li>
<li>Order by pidf and sum_reads_asv</li>
<li>Format sum_reads_asv with separator space</li>
<li>Remove taxo box on left and asv_min</li>
<li>Do not require fasta_selected use directly asv_set$fasta</li>
<li>Replace asv_all by asv_blast</li>
<li>Say that all asv are searched</li>
<li>Move crosses text just above the map.</li>
<li>Put asv_code in bold</li>
</ul>
</li>
</ul>
</div>
<div id="week-of-2021-11-08" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-11-08" class="anchor"></a>Week of 2021-11-08</h2>
<ul>
<li>asv_set is read in module_datasets.R and not in global.R</li>
<li>global is still read into global.R</li>
<li>credentials are saved in a special file credentials.qs</li>
<li>Write readme for barplot (depth limited to 250 m)</li>
<li>barplot: fix error when only one value for a discrete variable</li>
<li>Phyloseq - create function for computing phyloseq on the fly</li>
<li>Remodel alpha and beta diversity for less than 1000 samples
<ul>
<li>Create one panel with subpanels</li>
<li>Create phyloseq object on the fly</li>
</ul>
</li>
<li>Do a validation Rmd for metapr2</li>
</ul>
</div>
<div id="week-of-2021-11-15" class="section level2">
<h2 class="hasAnchor">
<a href="#week-of-2021-11-15" class="anchor"></a>Week of 2021-11-15</h2>
<ul>
<li>Major problem fixed in file produced by metapr2_export_asv… Must remove dataset_id from asv_set table because when merging with sample it will remove all the samples for which the dataset_id is higher from the first asv with a given hash value</li>
<li>Remove Fisher distance because it bugs in many cases</li>
<li>Add ecosystem AND salinity for phyloseq functions</li>
<li>Add possibility to change shape for alpha diversity</li>
<li>Phyloseq download (generate PS on the fly if less than 5000 samples)</li>
<li>Create 2 datasets in different directories that are loaded when using different password</li>
<li>asv_set is now a reactive variable. It only needs to be passed to query module so that search is done on full set of ASVs</li>
<li>Now works as a R package.</li>
<li>Create datasets_groups for easy selection
<ul>
<li>Marine global</li>
<li>Soils</li>
<li>Rivers</li>
<li>Lakes</li>
<li>Polar</li>
</ul>
</li>
<li>Create a compose.yaml</li>
<li>Move from metapr2-public to metapr2</li>
<li>Create Slack channel</li>
<li>Add ecological function to fasta file</li>
<li>Prevent side panel from scrolling and incorporate logo into side panel</li>
<li>Barplot improvements
<ul>
<li>Add ecological_function to barplot</li>
<li>Use plotly in</li>
<li>Time series (Year, Month, Date) in the bar plot</li>
</ul>
</li>
<li>Move github to metapr2-shiny inside pr2database</li>
<li>Use pkg down for help (problem with trying to reference figures!)</li>
</ul>
</div>
</div>
<div id="section-12" class="section level1">
<h1 class="hasAnchor">
<a href="#section-12" class="anchor"></a>====================================</h1>
</div>
<div id="manage-package" class="section level1">
<h1 class="hasAnchor">
<a href="#manage-package" class="anchor"></a>Manage package</h1>
</div>
<div id="section-13" class="section level1">
<h1 class="hasAnchor">
<a href="#section-13" class="anchor"></a>====================================</h1>
</div>
<div id="to-update-namespace" class="section level1">
<h1 class="hasAnchor">
<a href="#to-update-namespace" class="anchor"></a>To update NAMESPACE</h1>
<p>devtools::document()</p>
</div>
<div id="to-create-description-only-do-once-" class="section level1">
<h1 class="hasAnchor">
<a href="#to-create-description-only-do-once-" class="anchor"></a>To create DESCRIPTION (only do once !)</h1>
<p>usethis::use_description()</p>
</div>
<div id="testing-is-only-done-once" class="section level1">
<h1 class="hasAnchor">
<a href="#testing-is-only-done-once" class="anchor"></a>Testing is only done once</h1>
<p>usethis::use_testthat() usethis::use_test() # to initialize a basic test file and open it for editing.</p>
<div id="update-description-with-package-needed" class="section level2">
<h2 class="hasAnchor">
<a href="#update-description-with-package-needed" class="anchor"></a>Update DESCRIPTION with package needed</h2>
<p>This writes the package to the DESCRIPTION file, then the function can be loaded with package::function</p>
<div id="shiny" class="section level3">
<h3 class="hasAnchor">
<a href="#shiny" class="anchor"></a>Shiny</h3>
<p>usethis::use_package( “pkgload” ) usethis::use_package( “shiny” )</p>
</div>
</div>
</div>
<div id="usethisuse_package-shinyfeedback---for-user-feedback" class="section level1">
<h1 class="hasAnchor">
<a href="#usethisuse_package-shinyfeedback---for-user-feedback" class="anchor"></a>usethis::use_package( “shinyFeedback” ) # For user feedback</h1>
<p>usethis::use_package( “shinyvalidate” ) # For validation of input (easier to use than shinyFeedback) usethis::use_package( “shinycssloaders” ) # For the spinning wheel usethis::use_package( “shinyWidgets” ) # for Extra widgets - <a href="https://dreamrs.github.io/shinyWidgets/index.html" class="uri">https://dreamrs.github.io/shinyWidgets/index.html</a> usethis::use_package( “shinymanager” ) # Authentification usethis::use_package( “markdown” ) # To display text boxes in md usethis::use_package( “DT” ) # For table display</p>
<div id="tidyverse" class="section level3">
<h3 class="hasAnchor">
<a href="#tidyverse" class="anchor"></a>Tidyverse</h3>
<p>usethis::use_package( “dplyr” ) usethis::use_package( “tidyr” ) usethis::use_package( “stringr” ) usethis::use_package( “forcats” ) usethis::use_package( “lubridate” )</p>
</div>
<div id="graphics" class="section level3">
<h3 class="hasAnchor">
<a href="#graphics" class="anchor"></a>graphics</h3>
<p>usethis::use_package( “ggplot2” ) usethis::use_package( “viridis” ) usethis::use_package( “patchwork” ) usethis::use_package( “treemapify” ) usethis::use_package( “plotly” )</p>
</div>
<div id="maps" class="section level3">
<h3 class="hasAnchor">
<a href="#maps" class="anchor"></a>maps</h3>
<p>usethis::use_package( “leaflet” ) usethis::use_package( “leaflet.minicharts” ) # To do nice pie charts</p>
</div>
<div id="misc-1" class="section level3">
<h3 class="hasAnchor">
<a href="#misc-1" class="anchor"></a>Misc</h3>
<p>usethis::use_package( “rio” ) usethis::use_package( “qs” ) # For ultrafast loading usethis::use_package( “pryr” ) # For memory management usethis::use_package( “scrypt” ) # For encrypting</p>
</div>
<div id="bioinformatics" class="section level3">
<h3 class="hasAnchor">
<a href="#bioinformatics" class="anchor"></a>Bioinformatics</h3>
<p>usethis::use_package( “Biostrings” ) usethis::use_package( “phyloseq” ) usethis::use_package( “blaster” )</p>
</div>
</div>
<div id="for-debugging" class="section level1">
<h1 class="hasAnchor">
<a href="#for-debugging" class="anchor"></a>For debugging</h1>
<p>reactlog::reactlog_enable() # CTR-F3 for real time shiny::reactlogShow()</p>
</div>
<div id="section-14" class="section level1">
<h1 class="hasAnchor">
<a href="#section-14" class="anchor"></a>====================================</h1>
</div>
<div id="paper" class="section level1">
<h1 class="hasAnchor">
<a href="#paper" class="anchor"></a>Paper</h1>
</div>
<div id="section-15" class="section level1">
<h1 class="hasAnchor">
<a href="#section-15" class="anchor"></a>====================================</h1>
<ul>
<li>NAR special web issue: <a href="https://academic.oup.com/nar/pages/submission_webserver" class="uri">https://academic.oup.com/nar/pages/submission_webserver</a> (Dec 20)</li>
</ul>
</div>
<div id="section-16" class="section level1">
<h1 class="hasAnchor">
<a href="#section-16" class="anchor"></a>====================================</h1>
</div>
<div id="size-of-objects" class="section level1">
<h1 class="hasAnchor">
<a href="#size-of-objects" class="anchor"></a>Size of objects</h1>
</div>
<div id="section-17" class="section level1">
<h1 class="hasAnchor">
<a href="#section-17" class="anchor"></a>====================================</h1>
<p>Full data set….</p>
<p>Object: asv_set - size: 92.86 Mb</p>
<p>Object: asv_set<span class="math inline"><em>d</em><em>f</em> − <em>s</em><em>i</em><em>z</em><em>e</em> : 56.53<em>M</em><em>b</em><em>O</em><em>b</em><em>j</em><em>e</em><em>c</em><em>t</em> : <em>a</em><em>s</em><em>v</em><sub><em>s</em></sub><em>e</em><em>t</em></span>fasta - size: 39.51 Mb Object: global - size: 10.86 Mb</p>
</div>


  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Daniel Vaulot.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


